<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Cory Merow" />


<title>Quickstart Guide to R Package Building</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="cm_yeti_bootswatch.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ecology, Statistics, and Data Science with R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Head2_Schedule.html">Schedule</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Head1_CourseContent.html">About Course Content</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Module 1: Introduction to R</li>
    <li>
      <a href="00_CourseIntroductionFrame.html">1.0 Course Introduction</a>
    </li>
    <li>
      <a href="01_Rintro.html">1.1 First Steps</a>
    </li>
    <li>
      <a href="02_DataWrangling.html">1.2 Data Wrangling</a>
    </li>
    <li>
      <a href="03_Plotting.html">1.3 Plotting</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Module 2: Spatial Analyses</li>
    <li>
      <a href="04_Spatial.html">2.1 Spatial Data</a>
    </li>
    <li>
      <a href="05_Raster.html">2.2 Spatial Raster Data</a>
    </li>
    <li>
      <a href="06_RasterTwo.html">2.3 More Raster Data</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Module 3: Building R packages</li>
    <li>
      <a href="Quickstart_RPackages.html">3.1 Quickstart guide</a>
    </li>
    <li class="dropdown-header">Module 4: Reproducible and Interactive Research</li>
    <li>
      <a href="07_Reproducible.html">4.1 Research Reports with R markdown</a>
    </li>
    <li>
      <a href="11_Git.html">4.2 Version control with Github</a>
    </li>
    <li>
      <a href="07_03_RMarkdown_Tools.html">4.3 RMarkdown Tools: Interactive Presentations, Apps, Websites</a>
    </li>
    <li class="divider"></li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Ecological Modeling
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="101SDMs.html">Introduction to Species Distribution Models</a>
    </li>
    <li>
      <a href="4_1_Wallace_SDMs.html">Range Models with Wallace</a>
    </li>
    <li>
      <a href="20_Intro_Demography.html">Introduction to Demography</a>
    </li>
    <li>
      <a href="21_Intro_IPMs.html">Introduction to Integral Projection Models</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Ecoinformatics Workshop</li>
    <li>
      <a href="3_1_Ecoinf_Schedule.html">0 Workshop Schedule</a>
    </li>
    <li>
      <a href="3_8_BIEN_intro.html">1 (BIEN) Botanical Information and Ecology Network</a>
    </li>
    <li>
      <a href="3_7_TNRS.html">2 Taxonomic Name Resolution</a>
    </li>
    <li>
      <a href="3_3_RBIEN_tutorial.html">3 Accessing Plant Biodiversity Data</a>
    </li>
    <li>
      <a href="3_4_wallace.html">4 A streamlined modeling workflow: Wallace</a>
    </li>
    <li>
      <a href="3_5_Minxent.html">5 Integrating biogeographic data </a>
    </li>
    <li>
      <a href="3_2_Networks.html">6 Network Associations</a>
    </li>
    <li>
      <a href="3_6_Teaching_Ecoinformatics.html">7 Teaching Econformatics</a>
    </li>
  </ul>
</li>
<li>
  <a href="Head3_Resources.html">Resources</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/cmerow/RDataScience/tree/gh-pages">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Quickstart Guide to R Package Building</h1>
<h4 class="author">Cory Merow</h4>
<h4 class="date">9/24/2019</h4>

</div>


<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<div id="getting-started" class="section level1">
<h1><span class="header-section-number">1</span> Getting started</h1>
<p>You may need to install some software for this sequence of 3 tutorials.</p>
<ul>
<li><strong>RStudio</strong> (convenient way to interact with R) :<br> <a href="https://www.rstudio.com/products/rstudio/download/#download" class="uri">https://www.rstudio.com/products/rstudio/download/#download</a></li>
<li><strong>git</strong> (version control): <br> <a href="https://git-scm.com/downloads" class="uri">https://git-scm.com/downloads</a></li>
<li>Create a <strong>GitHub</strong> account (sharing code online) at <br> <a href="https://github.com/">https://github.com/</a></li>
<li><strong>R packages</strong> (for these demos):<br> <code>install.packages(c('knitr','shiny','rmarkdown'), dep=T)</code></li>
<li><strong>pandoc</strong> (to convert among document formats like html, pdf, docx): <br><a href="http://pandoc.org/installing.html" class="uri">http://pandoc.org/installing.html</a></li>
</ul>
<div class="well">
<button data-toggle="collapse" class="btn btn-primary btn-sm round" data-target="#demo2">
Tangential Tip
</button>
<div id="demo2" class="collapse">
<p>These are sprinkled throughout. Only read them if everything is going really well…</p>
</div>
</div>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="why-build-a-package" class="section level1">
<h1><span class="header-section-number">2</span> Why Build a package?</h1>
<ul>
<li>Sharing code</li>
<li>Reproducible research</li>
<li>(Indirectly) Keeps your work organized so your code is less error-prone</li>
<li>Future you will appreciate you more</li>
<li>Advancing your programming skills for <em>other</em> applications</li>
</ul>
<blockquote>
<p>For anyone using this document outside of a lecture, please note that this lesson is designed to distill the key features of a package for <em>publishing reproducible research</em>. These are my opinions on the key features or package building and which details are worth the time they take. This approach cuts details that can take beginners a lot of time to wade through, keeping them away from the science that motivates their efforts. This approach is <em>not</em> designed for generic packages that will be broadly used. There are many better resources for <a href="http://r-pkgs.had.co.nz/">that</a>.</p>
</blockquote>
<p>The first practical advantage to using a package is that it’s easy to re-load your code. You can either run devtools::load_all(), or in RStudio press Ctrl/Cmd + Shift + L, which also saves all open files, saving you a keystroke.</p>
<div class="well">
<button data-toggle="collapse" class="btn btn-primary btn-sm round" data-target="#demo21">
Tangential Tip
</button>
<div id="demo21" class="collapse">
<p><a href="http://r-pkgs.had.co.nz/r.html">Hadley says:</a>: The first practical advantage to using a package is that it’s easy to re-load your code. You can either run devtools::load_all(), or in RStudio press Ctrl/Cmd + Shift + L, which also saves all open files, saving you a keystroke.</p>
</div>
</div>
<p><br></p>
<div id="topics-well-cover" class="section level2">
<h2><span class="header-section-number">2.1</span> Topics we’ll cover</h2>
<p>We’ll quickly generate a working example, and work backwards to understand the components.</p>
<ul>
<li>Package structure - what are all the different files for?</li>
<li>Writing Functions</li>
<li>Documentation (with Roxygen2)</li>
<li>The ****** DESCRIPTION file</li>
<li>Checking and Building packages</li>
<li>Distributing packages (github)</li>
<li>General Tips</li>
<li>Things to read more about</li>
</ul>
<div class="well">
<button data-toggle="collapse" class="btn btn-primary btn-sm round" data-target="#demo2">
Tangential Tip
</button>
<div id="demo2" class="collapse">
<p>These are sprinkled throughout. Only read them if everything is going really well…</p>
</div>
</div>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
</div>
<div id="package-structure" class="section level1">
<h1><span class="header-section-number">3</span> Package structure</h1>
<p>Let’s start by making your first package. Start a new project in RStudio (File…New Project). A box pops, where you can choose ‘New Directory’, followed by ‘R Package’ to get to this screen:</p>
<p><img src="Quickstart_RPackages_assets/RStudio_Package.png" /></p>
<p><br> Think of a name for your package. I’m choosing <code>Merow2017Nature</code> because that might be the name of a paper I’m sharing code for. Note that you should <strong>check the box</strong> ‘Create a git repository’. We’ll come back to that later. Selecting ‘Create project’ will build a template with all the essential files for a package. Done. You made a package.</p>
<p>Packages have four required components:</p>
<ul>
<li>a file called DESCRIPTION. It contains metadata about the package</li>
<li>a directory called R. It has the code</li>
<li>a directory called man. It has the documentation (and not men, counter intuitively)</li>
<li>a file called NAMESPACE. I lists functions in the package (automatically generated, so not interesting)</li>
</ul>
<p><br></p>
<p><img src="Quickstart_RPackages_assets/Package_Template.png" /></p>
<p>Then there are some optional files too. The .Rproj one stores info for developing with RStudio as with any other projects you have, while .gitignore and .Rbuildignore will come up later, along with some others we haven’t made yet for sharing data, vignettes, etc.</p>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="writing-functions" class="section level1">
<h1><span class="header-section-number">4</span> Writing Functions</h1>
<p>Now we need to add some functions. We’ll get into a bunch of details on writing functions later, but here are some easy ones so we can focus on the package making process first. Put them in a file (or their own files) in the R/ folder of your package. You can organize them there and name files however you like. I like to use many files with veryShortandConciseNamesWrittenInCamelCase.</p>
<pre class="r"><code># thanks to software carpentry for the nice demo functions!
fahrenheit_to_celsius &lt;- function(temp_F) {
  # Converts Fahrenheit to Celsius
  temp_C &lt;- (temp_F - 32) * 5 / 9
  return(temp_C)
}
celsius_to_kelvin &lt;- function(temp_C) {
  # Converts Celsius to Kelvin
  temp_K &lt;- temp_C + 273.15
  return(temp_K)
}
fahrenheit_to_kelvin &lt;- function(temp_F) {
  # Converts Fahrenheit to Kelvin using fahrenheit_to_celsius() and celsius_to_kelvin()
  temp_C &lt;- fahrenheit_to_celsius(temp_F)
  temp_K &lt;- celsius_to_kelvin(temp_C)
  return(temp_K)
}</code></pre>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="documentation-with-roxygen2" class="section level1">
<h1><span class="header-section-number">5</span> Documentation (with <code>roxygen2</code>)</h1>
<p>Documentation is a required element of an R package. <code>roxygen2</code> is where its at; I haven’t noticed anyone use anything else in years. It’s convenient because your code and the documentation live together in the same file and the NAMESPACE file (describing your exported functions and other people’s imported functions) is automatically generated.</p>
<p><code>roxygen2</code> reads lines that begin with #’ as comments to create the documentation for your package. Descriptive tags are preceded with the @ symbol. For example, <span class="citation">@param</span> has information about the input parameters for the function. Here’s a minimal example</p>
<pre class="r"><code>#&#39; @title Converts Fahrenheit to Celsius
#&#39;
#&#39; @description This function converts input temperatures in Fahrenheit to Celsius.
#&#39; @param temp_F The temperature in Fahrenheit.
#&#39; @return The temperature in Celsius.
#&#39; @export
#&#39; @examples
#&#39; fahrenheit_to_kelvin(32)

fahrenheit_to_celsius &lt;- function(temp_F) {
  temp_C &lt;- (temp_F - 32) * 5 / 9
  return(temp_C)
}</code></pre>
<p>Ideally, you should write the type of documentation you’d like to read. But if you’ve ever used stackoverflow, it’s clear that many people don’t really read documentation. So I think the most critical part to do really well is choosing informative, commented examples.</p>
<p>Now that you’ve written the documentation, you need to ‘build’ the documentation files (the .Rd files that live in the man/ folder). You might need to configure your RStudio session to tell <code>roxygen2</code> to generate them by selecting these settings :</p>
<p><img src="Quickstart_RPackages_assets/roxygen2_config.png" /></p>
<p>Now you can build the man/ files:</p>
<pre class="r"><code>devtools::document()</code></pre>
<p>Go have a look at one; you can preview how it would appear to a user with the <em>Preview</em> button:</p>
<p><br></p>
<p><img src="Quickstart_RPackages_assets/previewDoc.png" /></p>
<p><br></p>
<p>A list of all available tags is below. Don’t be skerd; you’re likely to need 6-7 more of them, like <code>@note</code>, <code>@references</code>, <code>@author</code>. Maybe <code>@details</code>, <code>@family</code>, <code>@seealso</code>.</p>
<pre class="r"><code>names(roxygen2:::default_tags())</code></pre>
<pre><code>##  [1] &quot;evalNamespace&quot;     &quot;export&quot;            &quot;exportClass&quot;      
##  [4] &quot;exportMethod&quot;      &quot;exportPattern&quot;     &quot;import&quot;           
##  [7] &quot;importClassesFrom&quot; &quot;importFrom&quot;        &quot;importMethodsFrom&quot;
## [10] &quot;rawNamespace&quot;      &quot;S3method&quot;          &quot;useDynLib&quot;        
## [13] &quot;aliases&quot;           &quot;author&quot;            &quot;backref&quot;          
## [16] &quot;concept&quot;           &quot;describeIn&quot;        &quot;description&quot;      
## [19] &quot;details&quot;           &quot;docType&quot;           &quot;encoding&quot;         
## [22] &quot;evalRd&quot;            &quot;example&quot;           &quot;examples&quot;         
## [25] &quot;family&quot;            &quot;field&quot;             &quot;format&quot;           
## [28] &quot;inherit&quot;           &quot;inheritParams&quot;     &quot;inheritDotParams&quot; 
## [31] &quot;inheritSection&quot;    &quot;keywords&quot;          &quot;method&quot;           
## [34] &quot;name&quot;              &quot;md&quot;                &quot;noMd&quot;             
## [37] &quot;noRd&quot;              &quot;note&quot;              &quot;param&quot;            
## [40] &quot;rdname&quot;            &quot;rawRd&quot;             &quot;references&quot;       
## [43] &quot;return&quot;            &quot;section&quot;           &quot;seealso&quot;          
## [46] &quot;slot&quot;              &quot;source&quot;            &quot;template&quot;         
## [49] &quot;templateVar&quot;       &quot;title&quot;             &quot;usage&quot;</code></pre>
<p>The NAMESPACE file is one for the 4 essential files in a package, and is automatically generated when you use <code>document()</code>. It lists all the functions that are exported, which means that other users have easy access to them when they load your package, as well as functions you imported from other packages using <code>@importFrom</code> in your <code>roxygen2</code> documentation. Here’s an example:</p>
<p><img src="Quickstart_RPackages_assets/Demo_Namespace.png" /></p>
<p><br> Go have a look at the one generated by your demo package.</p>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="the-description-file" class="section level1">
<h1><span class="header-section-number">6</span> The ******* DESCRIPTION file</h1>
<p>The DESCRIPTION file contains all the metadata needed for your package. Seems pretty straightforward. Lots of obvious info to provide. But you can spend a lot of time debugging cryptic errors if you don’t get the syntax perfect perfect.</p>
<p>Here’s an example of one from our <code>maskRangeR</code> package. <br></p>
<p><img src="Quickstart_RPackages_assets/DemoDescription.png" /></p>
<p>Here are some <em>very</em> interesting details that are important to save you time:</p>
<ul>
<li>The <strong>Title</strong> field must capitalize the first letter of each word.</li>
<li>Just use <code>as.person()</code> for the <strong>Author</strong> field. Previously there were more flexible ways to specify this, but its a standard now.</li>
<li><strong>Description</strong> must be a paragraph. And don’t think a paragraph is two sentences long, buddy, or CRAN will tell you otherwise. They now subcontract with the paragraph police.</li>
<li>My <strong>LICENSE</strong> field has a standard MIT license and refers to an optional second file, called LICENSE, which lives in you root directory and includes any other specifications you want.</li>
<li>In <strong>Imports</strong> and <strong>Suggests</strong>, make sure packages are on their own lines, tab indented, and have no spaces between lines.</li>
</ul>
<div class="well">
<button data-toggle="collapse" class="btn btn-primary btn-sm round" data-target="#demo2132">
Tangential Tip
</button>
<div id="demo2132" class="collapse">
<p><br> You probably shouldn’t have as many dependencies as I do here. It can make it tough to maintain your package if others change. But it works often. A better solution is just to import the specific function you need from another package, if you only need 1 or 2 functions from that package.</p>
</div>
</div>
<div class="well">
<button data-toggle="collapse" class="btn btn-primary btn-sm round" data-target="#demo21532">
Tangential Tip
</button>
<div id="demo21532" class="collapse">
<p><br> I read somewhere that the Description field should only have 80 characters per line. I’ve succeeded getting packages on CRAN without that formatting a while ago, but is it worth the risk?</p>
</div>
</div>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="check-install-build" class="section level1">
<h1><span class="header-section-number">7</span> Check, Install, Build</h1>
<p>These three steps are lumped together here because you’re often jumping back and forth between them as you’re honing in on a working package.</p>
<p>Note that you can use the point and click interface on RStudio’s Build menu or <code>check()</code>, <code>build()</code>, and <code>install()</code> for these steps if you’re averse to clicks. <br></p>
<p><img src="Quickstart_RPackages_assets/Build.png" /></p>
<div id="check" class="section level2">
<h2><span class="header-section-number">7.1</span> Check</h2>
<p>To ensure you’ve followed the right protocols when designing your package, R offers checking tools. There are options, but it’s safest just to check with CRAN’s standards as they’re rigorous. To check for problems, either click the <em>Check</em> button shown above or type <code>check()</code> in the console. A very long litany of obscure details will likely follow. You’re looking for NOTES, WARNINGS and ERRORS. Don’t worry about everything else. The goal is to address these issues such that none remain when you run <code>check()</code> the final time. <code>check()</code> the package we’ve been building to try for yourself. We’ll do some more elaborate checks in a demo below.</p>
</div>
<div id="install" class="section level2">
<h2><span class="header-section-number">7.2</span> Install</h2>
<p>Once you’ve passed all the checks, you can click <em>Install and Restart</em> or type <code>install()</code> in the console. Now your package is loaded in R and ready to use.</p>
</div>
<div id="build" class="section level2">
<h2><span class="header-section-number">7.3</span> Build</h2>
<p>If you’d like to share a zipped up version of the package, e.g., as you’d submit to CRAN, choose <em>Build Source Package</em> from the drop down menu. <br></p>
<p><img src="Quickstart_RPackages_assets/buildSource.png" /></p>
<p><br> # Demo</p>
<p>Here’s the plan. I want you to see what a fully functional R package looks like, but I don’t want it to include a bunch of stats that obscure the challenge of understanding the package structure. So we’ll fix a version of my <code>rangeModelMetadata</code> package that I’ve intentionally introduced errors to. This package just works with text to create an <code>list</code> or CSV of text that represents metadata for species distribution models.</p>
<ol style="list-style-type: decimal">
<li>Create a new package called <code>intentionallyBrokenRangeModelMetada</code></li>
<li>Download these <a href="https://cmerow.github.io/RDataScience/Quickstart_RPackages_assets/intentionallyBrokenRangeModelMetadata.zip">files</a>.</li>
<li>Put the files in your root directory (the one called intentionallyBrokenRangeModelMetada)</li>
<li>Run <code>devtools::document()</code> just to be sure all the manuals are built.</li>
<li>Run <code>check()</code> either from the command line or through RStudio.</li>
<li>Start debugging with any problems you find, rerunning <code>check()</code> periodically to see if you’ve succeeded. Hint: I’ve only introduced 1 error per function.</li>
<li>You’re done when there are no more NOTES, WARNINGS or ERRORS.</li>
</ol>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
</div>
<div id="optional-useful-package-elements" class="section level1">
<h1><span class="header-section-number">8</span> Optional (useful) package elements</h1>
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
<div id="vignettes" class="section level2">
<h2><span class="header-section-number">8.1</span> Vignettes</h2>
<p>Vignettes are super important. If someone is going to read one thing you write in your package, it’s likely the vignette. Its easiest to write vignettes with <strong>R markdown</strong>. R markdown is also a way to share project reports and make websites like this, so learning it enables more options. Here’s a full <a href="https://cmerow.github.io/RDataScience/07_Reproducible.html">lesson</a> I made; we’ll just skim it here. Let’s make a vignette for the demo package you were building (<strong>not the one you just debugged</strong>, so you’ll have to switch projects in RStudio.)</p>
<p>Here are some super useful guides; really they contain almost all you need to know, and I think you can just experiment after skimming them.</p>
<p><a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf"> <img src="07_assets/rmarkdown.png" alt="alt text" width="700"></a></p>
<p><small><small><small><a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf</a></small></small></small></p>
<p>The <a href="https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf">reference guide</a> is a little more comprehensive</p>
<p><br></p>
<div id="create-new-file" class="section level3">
<h3><span class="header-section-number">8.1.1</span> Create new file</h3>
<p>In Rstudio: <strong>File -&gt; New File -&gt; RMarkdown -&gt; Document -&gt; HTML</strong></p>
<p><img src="07_assets/rmarkdownwindow.png" alt="alt text" width="600"></p>
<p>This will open a document that looks like this:</p>
<p><img src="07_assets/Example_knitr_Template.png" alt="alt text" width="750"></p>
<!-- <img src="07_assets/Example_knitr_Template.png" alt="alt text" width="700"> -->
<p>You’ll need to make a folder called /vignettes/ in your root directory, and save it there. This is a .Rmd file.</p>
<p><br></p>
<p>All R code to be run must be in a <em>code chunk</em> like this:</p>
<pre class="r"><code>## #```{r,eval=F}
## # CODE HERE
## #```</code></pre>
<p>Add a new <em>code chunk</em> at the bottom of this template file.</p>
<pre class="r"><code>celsius_to_kelvin(0)</code></pre>
<pre><code>## [1] 273.15</code></pre>
<pre class="r"><code>fahrenheit_to_kelvin(32)</code></pre>
<pre><code>## [1] 273.15</code></pre>
<p>To see how this will look when built, press CMD+Shift+K (to ‘knit’ the document using the <code>knitr</code> package).</p>
<p>Let’s add a plot, which will show up in the doc.</p>
<pre class="r"><code>far=seq(0,220,length=100)
kel=fahrenheit_to_kelvin(far)
plot(far,kel)</code></pre>
<p><img src="Quickstart_RPackages_files/figure-html/unnamed-chunk-7-1.png" /><!-- --></p>
<p>To create the document in html, just hit CMD+Shift+K to knit.</p>
<p>Next, try exploring some more features of Rmds, outlined in the cheatsheets above. I find that some of the most useful additional tools are:</p>
<ol style="list-style-type: decimal">
<li><p>Supplying arguments to a chunk of code (section 5 of the cheatsheet), to avoid evaluation or hide results (<code>eval=FALSE</code> or <code>results='hide'</code>). E.g., this can be a good way to load past results for code that’s slow.</p></li>
<li><p>Adding images, e.g., to show figures from a paper.</p></li>
<li><p>Adding latex equations by surrounding code with $$. E.g., $$\alpha$$ gives <br /><span class="math display"><em>α</em></span><br /></p></li>
<li><p>Changing options in the YAML header to make the doc fancier. Try replacing</p></li>
</ol>
<pre class="r"><code>output: html_document</code></pre>
<p>with</p>
<pre class="r"><code>output:
  rmarkdown::html_vignette:
    toc: true
    number_sections: true
    toc_depth: 3</code></pre>
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
<p>Although you can build your vignettes with the <em>Knit</em> button in RStudio to test them out, you need to formally build them for the package with <code>devtools::build_vignettes()</code>. Try it out.</p>
<p>Note that the doc/ folder is created, and this is where your vignettes are stored when the package is built. This is kind of confusing because it seems redundant with the vignettes folder. Don’t edit these, always be sure to edit the files in the /vignettes/ folder.</p>
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
</div>
<div id="junk-drawer-instextdata" class="section level2">
<h2><span class="header-section-number">8.2</span> Junk drawer: /inst/extdata</h2>
<p>Particularly when sharing code for a single paper, it can be helpful to include a variety of auxiliary files used for this or that. Maybe they’re scripts you use with the package, or data you’re too lazy to write documentation for, or notes to future you. For these, create the inst/ folder in your root directory, and the extdata/ folder in that. Put anything you like there.</p>
<p>It can be helpful to access those files when the package is installed with something like:</p>
<pre class="r"><code>## ddFile=system.file(&quot;extdata/dataDictionary.csv&quot;,package=&#39;rangeModelMetadata&#39;)
## system(paste0(&#39;open &#39;, ddFile, &#39; -a &quot;Microsoft Excel&quot;&#39;))</code></pre>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="distributing-packages-github" class="section level2">
<h2><span class="header-section-number">8.3</span> Distributing packages (github)</h2>
<p>I’m just going to demonstrate the super simple clicky version of using github with RStudio. If you want more features or to try the command line, try this easy <a href="https://swcarpentry.github.io/git-novice/">tutorial</a>. There are many others too; no need to reproduce here. (There’s a reproducibility joke here somewhere that I’m missing ….)</p>
<p>Follow <a href="https://help.github.com/en/articles/adding-an-existing-project-to-github-using-the-command-line">these instructions</a> to create a new github repo and add the package you’ve been working with to it. Then follow these steps to save your changes on the github website.</p>
<ol style="list-style-type: decimal">
<li>Modify any file in you repo and save the file.</li>
<li>Under the <em>Git</em> tab in RStudio, notice that the file is now listed: <br></li>
</ol>
<p><img src="Quickstart_RPackages_assets/changeTracked.png" /> <br></p>
<ol start="3" style="list-style-type: decimal">
<li>Select the checkbox under <em>Staged</em> and click <em>Commit</em>. Here you save edits and provide a ‘commit message’ describing them very briefly (e.g., in case you need to revert to them later).</li>
<li>To get these changes on github for everyone to see, click <em>Push</em>.</li>
</ol>
<p>That’s it; your code is tracked and on github. Of course there are many more powerful ways to use git to collaborate with multiple code authors, to explore ideas and revert back to older ones if they fail, etc. But all these few steps are all you really need to share packages online. More detailed instructions are <a href="https://cfss.uchicago.edu/setup/git-with-rstudio/">here</a>.</p>
<p>Now, others can install your package using <code>install_github()</code>.</p>
</div>
<div id="gitignore" class="section level2">
<h2><span class="header-section-number">8.4</span> .gitignore</h2>
<p>It is useful to avoid sending all your files to github; some may be used for testing, are too large, are temp files or helper files that no one cares about.</p>
<p>The .gitignore file in your root directory stores rules for what to ignore.Here’s what I always include in my .gitignore, borrowed from various smarter people. Try putting this in your package and see if it breaks.</p>
<pre class="r"><code>## # Meta
## # doc
## # .Rproj.user
## # .Rhistory
## # .RData
## # .Ruserdata
## #
## # # History files
## # .Rapp.history
## # # Session Data files
## # # Example code in package build process
## # *-Ex.R
## # # Output files from R CMD build
## # /*.tar.gz
## # # Output files from R CMD check
## # /*.Rcheck/
## # # RStudio files
## # .Rproj.user/
## # # OAuth2 token, see https://github.com/hadley/httr/releases/tag/v0.3
## # .httr-oauth
## # # knitr and R markdown default cache directories
## # /*_cache/
## # /cache/
## # # Temporary files created by R markdown
## # *.utf8.md
## # *.knit.md
## # .DS_Store
## # .Rbuildignore
## </code></pre>
<p>Importantly * is a wildcard symbol, so something like *-Ex.R means ignore all the files that end in -Ex.R. Or you can list every single file manually if you’re into that sort of thing.</p>
<p>Note that you might want to stop ‘tracking’ a file with git. <a href="http://www.codeblocq.com/2016/01/Untrack-files-already-added-to-git-repository-based-on-gitignore/">Here</a> are instructions.</p>
<p>git is super powerful for teams of people working on code concurrently to avoid breaking one another’s work. But it takes some learning. git is awesome for tracking your edits and sharing on github with the simple approach shown here. I don’t do much fancy branching, merging or pull requesting, because I spend more time fixing mistakes I thought I understood. This is clearly because I’m just a gitiot and not git’s fault. But I’d recommend saving your time learning git more fully until you really really need it.</p>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
</div>
<div id="general-tips" class="section level1">
<h1><span class="header-section-number">9</span> General Tips</h1>
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
<div id="writing-functions-1" class="section level2">
<h2><span class="header-section-number">9.1</span> Writing Functions</h2>
<p><strong>Hidden functions don’t need documentation</strong> If you need helper functions that users won’t need access to you can make them hidden by beginning the function name with a period. Hidden functions don’t require documentation, so this can also be a useful way to avoid check WARNINGS when code is in development. Try adding this function to your package and run <code>check</code> to be sure you don’t get any errors</p>
<pre class="r"><code>.fahrenheit_to_celsius2 &lt;- function(temp_F) {
  temp_C &lt;- (temp_F - 32) * 5 / 9
  return(temp_C)
}</code></pre>
<p><strong>Passing arguments</strong> Sometimes other functions are embedded in your function, and you’d like to pass arguments to them. For example, below, I add an option to make a plot and the <code>plot</code> function has a wide range of options that you might want to customize. You can add <code>...</code> to your function’s arguments, and <code>...</code> to the function you’re passing arguments to to achieve this:</p>
<pre class="r"><code>fahrenheit_to_celsius3 &lt;- function(temp_F,doPlot=F,...) {
  temp_C &lt;- (temp_F - 32) * 5 / 9
  if(doPlot) plot(temp_F,temp_C,...)
  return(temp_C)
}

far=seq(0,100,by=1)
fahrenheit_to_celsius3(far,doPlot=T,col=&#39;red&#39;,pch=19,cex=.7)</code></pre>
<p><img src="Quickstart_RPackages_files/figure-html/unnamed-chunk-13-1.png" /><!-- --></p>
<!-- - default values for arguments -->
<!-- - simplifying arguments with lists -->
<!-- - functions can be organized in files however you like in the **R** folder of your package -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="debugging" class="section level2">
<h2><span class="header-section-number">9.2</span> Debugging</h2>
<p><code>browser()</code> and <code>debug()</code> provide complementary ways to explore errors and see exactly what’s going on inside your function, in the environment its working with. Each allows you to step through the function line by line to explore problems. <code>browser()</code> is inserted inside the function on the line you want to begin exploring at. Try running this:</p>
<pre class="r"><code>fahrenheit_to_kelvin &lt;- function(temp_F) {
  # Converts Fahrenheit to Kelvin using fahrenheit_to_celsius() and celsius_to_kelvin()
  temp_C &lt;- fahrenheit_to_celsius(temp_F)
  browser()
  temp_K &lt;- celsius_to_kelvin(temp_C)
  return(temp_K)
}
fahrenheit_to_kelvin(17)</code></pre>
<pre><code>## Called from: fahrenheit_to_kelvin(17)
## debug at &lt;text&gt;#5: temp_K &lt;- celsius_to_kelvin(temp_C)
## debug at &lt;text&gt;#6: return(temp_K)</code></pre>
<pre><code>## [1] 264.8167</code></pre>
<p>There are three key commands to advance through the lines of code when in <code>browser()</code> or <code>debug()</code>: - <code>n</code> evaluate this line and move to next - <code>c</code> continue running lines till the function ends or breaks - <code>Q</code> get out of debug mode. Within debug mode, you can type any of the usual commands you’d use in R to see what objects in the environment look like, or to run other tests.</p>
<p>Alternatively to <code>browser()</code>, you can call <code>debug(yourFunctionName)</code> to step through every line, as though you had put your <code>browser()</code> command on line 1 of your function. <code>undebug()</code> gets you out of debug mode.</p>
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="messages" class="section level2">
<h2><span class="header-section-number">9.3</span> Messages</h2>
<p>The best packages include a variety of checks at the beginning of functions to determine whether you might’ve input something incorrectly, and giving useful advice if you have. No one polices this; the level of detail you provide is something that you have to be able to sleep with at night. Usually, these tests involve printing something to the console. You might be used to using <code>print</code> or <code>cat</code> to send text to the console. For packages you need to use <code>message</code> or <code>warning</code> for the same tasks so that users can have control over the output, e.g., with <code>supressMessages</code>.</p>
<p>It’s also useful to include <code>stop</code> to force the function to error out. You can consider wrapping breakable expressions in <code>try</code> to give some more options for handling errors. Try calling function in your demo with a known error (e.g., make the argument a string) and write a try statement to catch it an the write an error message.</p>
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
<div id="adding-a-welcome-message" class="section level2">
<h2><span class="header-section-number">9.4</span> Adding a welcome message</h2>
<p>Here’s an example from one my packages. Put this function in your R directory.</p>
<pre class="r"><code>## .onAttach &lt;- function(libname,pkgname) {
##   packageStartupMessage(&#39;Type, vignette(&quot;rmm_directory&quot;) for an overview of functions&#39;)
## }</code></pre>
<!-- ----------------------------------------------------------------------------- -->
<!-- ----------------------------------------------------------------------------- -->
<p><br></p>
</div>
</div>
<div id="next-steps" class="section level1">
<h1><span class="header-section-number">10</span> Next steps</h1>
<p>Almost always, the answer you need is briefly and well explained in Hadley Wickham’s online book <a href="http://r-pkgs.had.co.nz/">here</a>.</p>
<p>I just found this, so don’t know it well, but ROpenSci does a ton of smart <a href="https://devguide.ropensci.org/">stuff</a>.</p>
<p>Obviously there’s the CRAN book on R extensions <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html">here</a>. It tends to be long and winding and hard to search. Don’t bother with it unless you’re having trouble sleeping.</p>
<ul>
<li><strong>Unit testing</strong>. A way to automatically check your code every time its built. <a href="https://kbroman.org/pkg_primer/pages/tests.html">Example</a>
<ul>
<li>Party line: this is the best way to ensure your code does what it says.</li>
<li>What I really think: it takes a fair amount of time to think of, and code, nontrivial tests. If you’re just sharing code from a publication, its probably not necessary.</li>
</ul></li>
<li><strong>S3 and S4 methods</strong>. So functions like <code>plot</code> and <code>print</code> work with objects from your code.
<ul>
<li>Party line: These represent the true power of the object-oriented coding that makes R appealing.</li>
<li>What I really think: Meh, you can just use a list and do most of the same stuff.</li>
</ul></li>
<li><strong>Including data sets</strong>. <a href="https://kbroman.org/pkg_primer/pages/data.html">Example</a>
<ul>
<li>Party line: Its not complicated.</li>
<li>What I really think: I tend to include a lot, as users may find it easier access existing data. Note that on CRAN your package can’t be over a few Mb but on github, files can be up to 50 Mb. Consider RData files and RDS files; they’re usually fast and reasonably compressed, preserving the exact R object you saved. You can put them in /inst/ext/ if you’re lazy and don’t want to write documentation. Reference them with <code>system.file()</code>.</li>
</ul></li>
<li><strong>Shiny apps</strong>. Like <a href="https://wallaceecomod.github.io/">Wallace</a>! or this <a href="https://shiny.rstudio.com/gallery/">Gallery</a> of apps.
<ul>
<li>Party line: Make your code interactive.</li>
<li>What I really think: I see 2 major use cases: (1) big complicated apps like Wallace that help visualize a workflow, and (2) little snippets that you might put on your website to show off your work. I don’t see them as super useful for intermediate scales, where it takes significant effort to build the app, but it only does a part of an analysis or a very specific analysis.</li>
</ul></li>
<li><strong>CRAN</strong> submissions.
<ul>
<li>Party line: Your package has arrived. It’s fa real.</li>
<li>What I really think: CRAN is important for widely used packages, as it enforces a number of standards which are probably critical for packages that can be used in ways the developers never even thought of. But if you’re building a more specific package, I find that there are a lot of hoops to jump through which aren’t super important for making a working code base to share.</li>
</ul></li>
</ul>
</div>


<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  <a href="https://cmerow.github.io"><img src="img/cory.png" alt="logo" width=40px></a>
  <!--
  <a href="http://adamwilson.us/#contact"><i class="fa fa-envelope fa-2x"></i></a> 
  <a href="https://twitter.com/AdamWilsonLab"><i class="fa fa-twitter fa-2x"></i></a> 
  <a href="https://github.com/AdamMWilson"><i class="fa fa-github fa-2x"></i></a>
  -->
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
